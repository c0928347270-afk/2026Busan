<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ’œ 2026 é‡œå±±å¤¢å¹»ä¹‹æ—… ğŸ’œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Mali:wght=600;700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: { light: '#E0E3FF', DEFAULT: '#8E97FD', dark: '#6D75C9' },
                        text: '#4A4A68', 
                        background: '#F9FAFF', 
                        card: '#FFFFFF', 
                        accent: { food: '#FFB7B2', shopping: '#A0E7E5', sightseeing: '#FBE7C6', travel: '#B9CCF2' }
                    },
                    fontFamily: { sans: ['"Noto Sans TC"', 'sans-serif'], cute: ['"Mali"', 'cursive'] },
                    boxShadow: { 'custom-sm': '0 2px 8px 0 rgba(142, 151, 253, 0.15)', 'custom-md': '0 4px 12px -2px rgba(142, 151, 253, 0.2)', 'custom-lg': '0 10px 25px -5px rgba(142, 151, 253, 0.25)' }
                }
            }
        }
    </script>

    <style>
        body { background-color: #F9FAFF; color: #4A4A68; font-family: 'Noto Sans TC', sans-serif; -webkit-tap-highlight-color: transparent; padding-bottom: 90px; }
        .app-card { background-color: #FFFFFF; border-radius: 24px; box-shadow: 0 8px 20px rgba(142, 151, 253, 0.12); border: 2px solid #F0F2FF; transition: all 0.3s ease; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .btn-press:active { transform: scale(0.95); opacity: 0.8; }
        .chic-title { font-family: 'Mali', cursive; letter-spacing: 1px; }
        .bottom-nav { height: 80px; padding-bottom: env(safe-area-inset-bottom); }
        @media (min-width: 1024px) {
            #app-container { display: grid; grid-template-columns: 320px 1fr; min-height: 100vh; }
            .sidebar { border-right: 2px solid #F0F2FF; }
            body { padding-bottom: 0; }
        }
    </style>
</head>
<body>

<div id="app" class="min-h-screen">
    <div id="app-container" class="lg:grid">

        <aside class="sidebar fixed top-0 left-0 h-full w-80 p-8 lg:block hidden bg-white z-50">
            <header class="mb-12">
                <h1 class="text-4xl font-black text-primary flex items-center gap-3 chic-title">
                    <i class="fa-solid fa-plane-up text-4xl"></i> BUSAN 2026
                </h1>
                <p class="text-base text-text/70 font-bold mt-2">é¦¬å¡é¾è—ç´«å¤¢å¹»ä¹‹æ—…</p>
            </header>
            <nav class="space-y-4">
                <button v-for="tab in tabs" :key="tab.id" @click="currentTab = tab.id"
                    :class="currentTab === tab.id ? 'bg-primary text-white shadow-custom-md' : 'text-text/70 hover:bg-primary/10'"
                    class="w-full text-left p-5 rounded-2xl flex items-center gap-4 transition-colors text-lg font-bold btn-press">
                    <i :class="tab.icon" class="text-2xl"></i> {{ tab.name }}
                </button>
            </nav>
        </aside>

        <main class="main-content lg:col-start-2 lg:pb-10 p-5">
            <header class="lg:hidden pb-6 pt-4 flex justify-between items-center sticky top-0 bg-[#F9FAFF]/95 backdrop-blur-sm z-20">
                 <h1 class="text-3xl font-black text-primary flex items-center gap-2 chic-title">
                    <i :class="currentTabIcon" class="text-3xl"></i> {{ currentTabName }}
                </h1>
                <p class="text-xs font-black text-white bg-primary px-3 py-1.5 rounded-full shadow-sm">2026</p>
            </header>
            
            <div v-if="currentTab === 'itinerary'" class="space-y-6">
                <div class="app-card p-4 overflow-x-auto no-scrollbar">
                    <div class="flex space-x-3">
                        <button v-for="i in 5" :key="i" @click="activeDay = i"
                            :class="activeDay === i ? 'bg-primary text-white shadow-custom-md scale-105' : 'bg-white text-text/60 border border-primary/20'"
                            class="flex-shrink-0 w-24 h-28 rounded-2xl flex flex-col items-center justify-center transition-all duration-300 btn-press font-bold">
                            <span class="text-[10px] uppercase opacity-90 mb-1">{{ getDayInfo(i).day }}</span> 
                            <span class="text-2xl font-black leading-none font-cute">{{ getDayInfo(i).date.slice(3) }}</span>
                            <div class="mt-2 text-center" :class="activeDay === i ? 'text-white' : 'text-text'">
                                <i :class="getDayWeather(i).icon" class="text-xl"></i>
                                <p class="text-[10px] font-bold mt-1 leading-none">{{ getDayWeather(i).temp }}</p>
                            </div>
                        </button>
                    </div>
                </div>

                <div class="flex justify-between items-center px-2 mb-2">
                    <h2 class="text-2xl font-black text-text/80">{{ getDayInfo(activeDay).fullDay }}</h2>
                </div>

                <div class="space-y-5">
                    <div v-for="item in filteredItinerary" :key="item.id" 
                        class="app-card p-5 flex gap-5 relative border-l-[8px]"
                        :class="item.isFlight ? 'border-primary' : `border-accent-${item.category}`">
                        
                        <div class="flex flex-col items-center min-w-[60px] flex-shrink-0 pt-1">
                            <span class="text-xl font-black text-primary font-cute leading-none">{{ item.time }}</span>
                            <div class="h-full w-1 bg-primary/20 my-2 rounded-full"></div>
                        </div>

                        <div class="flex-1 pb-1 min-w-0">
                            <h3 class="font-black text-lg text-text/90 leading-snug mb-1">{{ item.title }}</h3>
                            <div class="flex items-center text-sm text-text/60 font-bold mb-3">
                                <i class="fa-solid fa-location-dot mr-1 text-primary"></i>
                                <span class="truncate">{{ item.location }}</span>
                                <span v-if="item.transport" class="ml-2 bg-gray-100 px-2 py-0.5 rounded text-[10px]">ğŸšŒ {{ item.transport }}</span>
                            </div>
                            <p v-if="item.desc" class="text-base text-text/80 bg-primary/5 p-4 rounded-2xl w-full whitespace-pre-wrap leading-relaxed border border-primary/10 shadow-inner">
                               {{ item.desc }}
                            </p>
                            <div class="mt-4 flex gap-3">
                                <a :href="getNaverMapLink(item.location)" target="_blank" class="flex-1 inline-flex justify-center items-center text-sm font-bold text-white bg-[#03C75A] py-3 rounded-xl shadow-custom-sm btn-press">Naver</a>
                                <a :href="getGoogleMapLink(item.location)" target="_blank" class="flex-1 inline-flex justify-center items-center text-sm font-bold text-blue-500 bg-blue-50 border border-blue-100 py-3 rounded-xl shadow-custom-sm btn-press">Google</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div v-if="currentTab === 'money'" class="space-y-6">
                <div class="app-card p-6 bg-gradient-to-br from-primary/10 to-white border-primary/20">
                    <h4 class="font-black text-lg text-text/80 mb-4 flex items-center gap-2"><i class="fa-solid fa-calculator text-primary"></i> åŒ¯ç‡æ›ç®—</h4>
                    <div class="flex items-center border-b-2 border-primary/10 pb-3 mb-3">
                        <span class="font-bold text-base text-text/40 w-16">KRW</span>
                        <input v-model.number="calcKRW" type="number" class="w-full text-right text-4xl font-black outline-none bg-transparent text-text/80 font-cute">
                    </div>
                    <div class="text-right text-4xl font-black text-primary font-cute">NT$ {{ formatNumber(calculatedTWD) }}</div>
                </div>
            </div>

            <div v-if="currentTab === 'info'" class="space-y-8">
                <div class="app-card p-6 border-l-8 border-primary bg-primary/5">
                    <h3 class="font-black text-xl text-text/80 mb-5 border-b border-dashed border-primary/20 pb-2">ğŸ›« å»ç¨‹èˆªç­ (1/21)</h3>
                    <div class="grid grid-cols-2 gap-4 text-sm font-bold">
                        <div>èˆªç©ºå…¬å¸: é•·æ¦®èˆªç©º</div><div>èˆªç­ç·¨è™Ÿ: BR164</div>
                        <div>èµ·é£›æ™‚é–“: 14:25 (TPE)</div><div>æŠµé”æ™‚é–“: 17:40 (PUS)</div>
                        <div>èˆªç«™: ç¬¬äºŒèˆªå»ˆ</div><div>ç™»æ©Ÿæ™‚é–“: 13:55</div>
                    </div>
                </div>

                <div class="app-card p-6 border-l-8 border-accent-food bg-accent-food/5">
                    <h3 class="font-black text-xl text-text/80 mb-5 border-b border-dashed border-accent-food/20 pb-2">ğŸ›¬ å›ç¨‹èˆªç­ (1/25)</h3>
                    <div class="grid grid-cols-2 gap-4 text-sm font-bold">
                        <div>èˆªç©ºå…¬å¸: é•·æ¦®èˆªç©º</div><div>èˆªç­ç·¨è™Ÿ: BR163</div>
                        <div>èµ·é£›æ™‚é–“: 18:55 (PUS)</div><div>æŠµé”æ™‚é–“: 20:25 (TPE)</div>
                        <div>èˆªç«™: åœ‹éš›èˆªå»ˆ</div><div>ç™»æ©Ÿæ™‚é–“: 18:25</div>
                    </div>
                </div>

                <div class="app-card p-6 border-4 border-primary/10">
                    <h3 class="font-black text-2xl text-text/80 mb-4 flex items-center gap-3"><i class="fa-solid fa-house text-primary"></i> ä½å®¿è³‡è¨Š</h3>
                    <p class="font-black text-xl text-text mb-2">NEWCZ NAMPO HOTEL</p>
                    <p class="text-sm text-text/60 font-bold mb-6 bg-gray-50 p-3 rounded-xl select-all border border-gray-100">
                        <i class="fa-solid fa-location-dot mr-1"></i> 20 BIFFGWANGJANGRO, ä¸­å€, 48981 é‡œå±±
                    </p>
                </div>
            </div>

            <div v-if="currentTab === 'guide'" class="space-y-8">
                </div>
        </main>
    </div>

    <nav class="fixed bottom-0 w-full pb-safe pt-2 px-2 flex justify-around items-end bg-white/95 backdrop-blur-xl rounded-t-[30px] shadow-[0_-10px_40px_rgba(142,151,253,0.15)] z-50 lg:hidden bottom-nav">
        <button v-for="tab in tabs" :key="tab.id" @click="currentTab = tab.id"
            :class="currentTab === tab.id ? 'text-primary -translate-y-2' : 'text-text/30'" 
            class="flex flex-col items-center p-2 flex-1 transition-all duration-300 btn-press group">
            <div :class="currentTab === tab.id ? 'bg-primary/10 p-3 rounded-2xl mb-1' : 'mb-1'">
                <i :class="tab.icon" class="text-3xl"></i>
            </div>
            <span class="text-[11px] font-black tracking-wide">{{ tab.name }}</span>
        </button>
    </nav>
</div>

<script>
    const { createApp, ref, computed, onMounted, watch } = Vue;

    createApp({
        setup() {
            const currentTab = ref('itinerary');
            const activeDay = ref(1);
            const calcKRW = ref('');
            const exchangeRate = ref(41.5);
            const expenses = ref([]);
            
            const weatherData = {
                1: { icon: 'fa-solid fa-sun', temp: '5Â° / -2Â°' },
                2: { icon: 'fa-solid fa-cloud-sun', temp: '6Â° / -1Â°' },
                3: { icon: 'fa-solid fa-cloud-showers-heavy', temp: '3Â° / -3Â°' },
                4: { icon: 'fa-solid fa-snowflake', temp: '0Â° / -5Â°' },
                5: { icon: 'fa-solid fa-wind', temp: '2Â° / -4Â°' },
            };

            const tabs = [
                { id: 'itinerary', name: 'è¡Œç¨‹', icon: 'fa-solid fa-route' },
                { id: 'money', name: 'è¨˜å¸³', icon: 'fa-solid fa-sack-dollar' },
                { id: 'info', name: 'æ©Ÿç¥¨', icon: 'fa-solid fa-ticket' },
                { id: 'guide', name: 'æ¸…å–®', icon: 'fa-solid fa-list-check' },
            ];

            const tripDates = {
                1: { date: '01/21', day: 'é€±ä¸‰', fullDay: '1æœˆ21æ—¥ (é€±ä¸‰)' },
                2: { date: '01/22', day: 'é€±å››', fullDay: '1æœˆ22æ—¥ (é€±å››)' },
                3: { date: '01/23', day: 'é€±äº”', fullDay: '1æœˆ23æ—¥ (é€±äº”)' },
                4: { date: '01/24', day: 'é€±å…­', fullDay: '1æœˆ24æ—¥ (é€±å…­)' },
                5: { date: '01/25', day: 'é€±æ—¥', fullDay: '1æœˆ25æ—¥ (é€±æ—¥)' },
            };

            const itinerary = ref([
                // Day 1
                { id: 101, day: 1, time: '08:00', title: 'å¾å®¶è£¡å‡ºç™¼', location: 'å®¶', transport: 'é–‹è»Š2~3hr', desc: 'æ–—å…­/è™å°¾å‡ºç™¼', category: 'travel' },
                { id: 102, day: 1, time: '11:00', title: 'æŠµé”é€£çµ±åœè»Šå ´', location: 'æ¡ƒåœ’å¸‚å¤§åœ’å€åœ‹éš›è·¯ä¸€æ®µ509-1è™Ÿ', transport: 'é–‹è»Š', desc: 'è¾¦ç†åœè»Šæ‰‹çºŒ', category: 'travel' },
                { id: 103, day: 1, time: '12:00', title: 'åˆ°é”ç¬¬äºŒèˆªå»ˆ', location: 'TPE T2', transport: 'æ¥é§è»Š', desc: 'è¾¦ç†å ±åˆ°ã€è¨—é‹ã€å…¥é—œ', category: 'flight', isFlight: true },
                { id: 104, day: 1, time: '14:25', title: 'é£›æ©Ÿèµ·é£› (BR164)', location: 'TPE T2', transport: 'é£›æ©Ÿ', desc: 'é•·æ¦®èˆªç©º BR164', category: 'flight', isFlight: true },
                { id: 105, day: 1, time: '17:40', title: 'æŠµé”é‡œå±±é‡‘æµ·æ©Ÿå ´', location: 'PUS', transport: 'é£›æ©Ÿ', desc: 'é è¨ˆæŠµé”æ™‚é–“', category: 'flight', isFlight: true },
                { id: 106, day: 1, time: '18:10', title: 'å–è¡Œæå‰å¾€åœ°éµç«™', location: 'é‡‘æµ·æ©Ÿå ´', transport: 'æ­¥è¡Œ', desc: 'ç”±GATE3èµ°åˆ°é¦¬è·¯å°é¢å³è½‰', category: 'travel' },
                { id: 107, day: 1, time: '18:30', title: 'æ­ä¹˜åœ°éµåˆ°æ²™ä¸Šç«™', location: 'æ²™ä¸Šç«™', transport: 'åœ°éµ', desc: 'è½‰ä¹˜ç¶ è‰²2è™Ÿç·šå¾€è¥¿é¢/è‡å±±æ–¹å‘', category: 'travel' },
                { id: 108, day: 1, time: '18:40', title: 'ç”±è¥¿é¢ç«™åˆ°æœ­å˜å…¶ç«™', location: 'æœ­å˜å…¶ç«™', transport: 'åœ°éµ', desc: 'è½‰ä¹˜æ©˜è‰²1è™Ÿç·šå¾€å¤šå—æµ¦/å¤§æµ¦æµ·æ°´æµ´å ´æ–¹å‘', category: 'travel' },
                { id: 109, day: 1, time: '19:05', title: 'å…¥ä½ NEWCZ NAMPO', location: 'NEWCZ Nampo', transport: 'æ­¥è¡Œ', desc: '5è™Ÿå‡ºå£æœ‰é›»æ¢¯ï¼Œå‡ºé›»æ¢¯ç›´èµ°é7è™Ÿå‡ºå£å·¦è½‰', category: 'travel' },
                { id: 110, day: 1, time: '20:00', title: 'æ™šé¤åŠå®µå¤œ', location: 'é£¯åº—å‘¨é‚Š', transport: 'æ­¥è¡Œ', desc: 'è±¬è‚‰æ¹¯é£¯ã€äººè”˜é›æ¹¯ï¼›å®µå¤œï¼šç‚¸é›(BHC/è€çˆºç‚¸é›)', category: 'food' },

                // Day 2
                { id: 201, day: 2, time: '08:00', title: 'åƒæ—©é¤', location: 'é£¯åº—å‘¨é‚Š', transport: 'æ­¥è¡Œ', desc: 'äº«ç”¨æ—©é¤', category: 'food' },
                { id: 202, day: 2, time: '09:30', title: 'å‡ºç™¼å‰å¾€æµ·é›²å°', location: 'æµ·é›²å°', transport: 'åœ°éµ/è¨ˆç¨‹è»Š', desc: 'åœ°éµç´„50åˆ†é˜(1800éŸ“å¹£)æˆ–è¨ˆç¨‹è»Šç´„40-60åˆ†é˜(20000éŸ“å¹£)', category: 'travel' },
                { id: 203, day: 2, time: '10:30', title: 'æ±é‡œå±±æ¨‚å¤©OUTLET', location: 'Lotte Outlet', transport: 'è¨ˆç¨‹è»Š', desc: 'å¯ç©æ—é‚Šæ»‘è»Š(ä¸æ€•å†·çš„è©±)', category: 'shopping' },
                { id: 204, day: 2, time: '13:55', title: 'æµ·é›²å°å‚³çµ±å¸‚å ´', location: 'æµ·é›²å°å¸‚å ´', transport: 'è¨ˆç¨‹è»Š', desc: 'å¤ä¾†å¸é­šç³•ã€31å…¬åˆ†æµ·é®®æ¹¯éºµ', category: 'food' },
                { id: 205, day: 2, time: '14:25', title: 'æ–°ä¸–ç•Œç™¾è²¨', location: 'Centum City', transport: 'è¨ˆç¨‹è»Š', desc: 'ä¸–ç•Œæœ€å¤§ç™¾è²¨å…¬å¸', category: 'shopping' },
                { id: 206, day: 2, time: '15:30', title: 'SPA LAND æ±—è’¸å¹•', location: 'æ–°ä¸–ç•Œç™¾è²¨ B1', transport: 'æ­¥è¡Œ', desc: 'åœç•™2-3å°æ™‚ã€‚æ­¥é©Ÿï¼šæ›ç¥¨â†’é‹æ«ƒâ†’é ˜è¡£â†’æ¸…æ´—â†’æ³¡æ¹¯â†’æ›è£â†’æ¡‘æ‹¿â†’çµç®—', category: 'sightseeing' },
                { id: 207, day: 2, time: '18:00', title: 'å‰å¾€è¥¿é¢ç«™', location: 'è¥¿é¢', transport: 'åœ°éµ/è¨ˆç¨‹è»Š', desc: 'ç¶ ç·šç›´é”', category: 'travel' },
                { id: 208, day: 2, time: '18:30', title: 'æ™šé¤åƒçƒ¤è‚‰', location: 'è¥¿é¢çƒ¤è‚‰åº—', transport: 'æ­¥è¡Œ', desc: 'æ¨è–¦ï¼šçƒ¤è‚‰çš„ç”·å­ã€å‘³è´Šç‹ã€é‡œå±±å®…ã€83ç¬è±¸', category: 'food' },
                { id: 209, day: 2, time: '18:40', title: 'è¥¿é¢ç«™é€›è¡—', location: 'è¥¿é¢åœ°ä¸‹è¡—', transport: 'æ­¥è¡Œ', desc: 'æ–‡å‰µåº—ã€å¤§å‰µç™¾è²¨', category: 'shopping' },

                // Day 3
                { id: 301, day: 3, time: '08:00', title: 'åƒæ—©é¤', location: 'é£¯åº—å‘¨é‚Š', transport: 'æ­¥è¡Œ', desc: 'äº«ç”¨æ—©é¤', category: 'food' },
                { id: 302, day: 3, time: '09:00', title: 'KKdayä¸€æ—¥éŠé›†åˆ', location: 'é‡œå±±ç«™1è™Ÿå‡ºå£', transport: 'åœ°éµ', desc: 'é›†åˆåœ°é»ï¼šKTXé‡œå±±ç«™1è™Ÿå‡ºå£', category: 'sightseeing' },
                { id: 303, day: 3, time: '10:30', title: 'è—ç·šå…¬åœ’å¤©ç©ºè† å›Š', location: 'å°¾æµ¦/é’æ²™æµ¦', transport: 'å°ˆè»Š', desc: 'KKdayè¡Œç¨‹', category: 'sightseeing' },
                { id: 304, day: 3, time: '13:10', title: 'æµ·æ±é¾å®®å¯º', location: 'æµ·æ±é¾å®®å¯º', transport: 'å°ˆè»Š', desc: 'KKdayè¡Œç¨‹', category: 'sightseeing' },
                { id: 305, day: 3, time: '15:00', title: 'ä½›åœ‹å¯º', location: 'æ…¶å·', transport: 'å°ˆè»Š', desc: 'KKdayè¡Œç¨‹', category: 'sightseeing' },
                { id: 306, day: 3, time: '16:40', title: 'å¤§é™µé™¢+çš‡ç†åœ˜è·¯', location: 'æ…¶å·', transport: 'å°ˆè»Š', desc: 'KKdayè¡Œç¨‹', category: 'sightseeing' },
                { id: 307, day: 3, time: '19:00', title: 'æ±å®®èˆ‡æœˆæ± ', location: 'æ…¶å·', transport: 'å°ˆè»Š', desc: 'KKdayè¡Œç¨‹', category: 'sightseeing' },
                { id: 308, day: 3, time: '21:50', title: 'è¿”å›å¸‚å€', location: 'é‡œå±±ç«™/è¥¿é¢', transport: 'å°ˆè»Š', desc: 'è¡Œç¨‹çµæŸè¿”æŠµ', category: 'travel' },

                // Day 4
                { id: 401, day: 4, time: '09:00', title: 'é£¯åº—å‡ºç™¼', location: 'é£¯åº—', transport: 'è¨ˆç¨‹è»Š', desc: 'å‰å¾€æ¾å³¶', category: 'travel' },
                { id: 402, day: 4, time: '09:30', title: 'æ¾å³¶å¤©ç©ºæ­¥é“', location: 'æ¾å³¶', transport: 'æ­¥è¡Œ', desc: 'çœ‹æµ·æ™¯', category: 'sightseeing' },
                { id: 403, day: 4, time: '10:00', title: 'æ¾å³¶æµ·ä¸Šçºœè»Š', location: 'æ¾å³¶çºœè»Šç«™', transport: 'çºœè»Š', desc: 'æ­ä¹˜é«”é©—', category: 'sightseeing' },
                { id: 404, day: 4, time: '12:00', title: 'åˆé¤ï¼šæœ­å˜å…¶å¸‚å ´', location: 'æœ­å˜å…¶å¸‚å ´', transport: 'è¨ˆç¨‹è»Š', desc: 'å¸ç‹èŸ¹(ç´„6-8è¬éŸ“å¹£/kg)', category: 'food' },
                { id: 405, day: 4, time: '13:50', title: 'å½±å³¶å¤§æ©‹é–‹æ©‹', location: 'å½±å³¶å¤§æ©‹', transport: 'æ­¥è¡Œ', desc: 'è§€è³é–‹æ©‹å„€å¼', category: 'sightseeing' },
                { id: 406, day: 4, time: '14:30', title: 'ç™½æ·ºç˜æ–‡åŒ–æ‘', location: 'ç™½æ·ºç˜', transport: 'è¨ˆç¨‹è»Š', desc: 'æµ·æ™¯ã€å’–å•¡å»³ (åœç•™40-60åˆ†)', category: 'sightseeing' },
                { id: 407, day: 4, time: '15:30', title: 'å¤ªå®—å°', location: 'å¤ªå®—å°', transport: 'è¨ˆç¨‹è»Š', desc: 'éŠåœ’è»Šæœ€å¾Œä¸€ç­ 17:30', category: 'sightseeing' },
                { id: 408, day: 4, time: '18:30', title: 'å¯Œå¹³ç½é ­å¸‚å ´', location: 'å¯Œå¹³å¸‚å ´', transport: 'è¨ˆç¨‹è»Š', desc: 'åƒæ™šé¤ã€ç‰¹è‰²å°åƒ', category: 'food' },
                { id: 409, day: 4, time: '21:00', title: 'é‡œå±±å¡”å¤œæ™¯', location: 'é‡œå±±å¡”', transport: 'æ­¥è¡Œ/é›»æ‰¶æ¢¯', desc: 'é¾é ­å±±å…¬åœ’', category: 'sightseeing' },

                // Day 5
                { id: 501, day: 5, time: '08:00', title: 'æ•´ç†è¡Œæ', location: 'é£¯åº—', transport: 'æ­¥è¡Œ', desc: 'è¾¦ç†é€€æˆ¿ä¸¦å¯„æ”¾è¡Œæ', category: 'travel' },
                { id: 502, day: 5, time: '08:30', title: 'ç”˜å·æ´æ–‡åŒ–æ‘', location: 'ç”˜å·æ´', transport: 'è¨ˆç¨‹è»Š', desc: 'å°ç‹å­æ‹ç…§ã€å½©è‰²éšæ¢¯ (åœç•™2hr)', category: 'sightseeing' },
                { id: 503, day: 5, time: '12:00', title: 'åˆé¤åŠé€›è¡—', location: 'å—æµ¦æ´', transport: 'æ­¥è¡Œ', desc: 'è‡ªç”±æ´»å‹•ã€è£œé½Šä¼´æ‰‹ç¦®', category: 'food' },
                { id: 504, day: 5, time: '14:30', title: 'å›é£¯åº—é ˜è¡Œæ', location: 'é£¯åº—', transport: 'æ­¥è¡Œ', desc: 'é ˜å–è¡Œæ', category: 'travel' },
                { id: 505, day: 5, time: '15:00', title: 'å‰å¾€æ©Ÿå ´', location: 'æ©Ÿå ´', transport: 'åœ°éµ/è¨ˆç¨‹è»Š', desc: 'é ç•™æ™‚é–“è¾¦ç†ç™»æ©Ÿ', category: 'travel' },
                { id: 506, day: 5, time: '18:55', title: 'é£›æ©Ÿèµ·é£› (BR163)', location: 'PUS', transport: 'é£›æ©Ÿ', desc: 'é£›å¾€æ¡ƒåœ’æ©Ÿå ´', category: 'flight', isFlight: true },
                { id: 507, day: 5, time: '20:25', title: 'æŠµé”æ¡ƒåœ’æ©Ÿå ´', location: 'TPE', transport: 'é£›æ©Ÿ', desc: 'æ—…ç¨‹çµæŸ', category: 'flight', isFlight: true }
            ]);

            const filteredItinerary = computed(() => itinerary.value.filter(item => item.day === activeDay.value).sort((a, b) => a.time.localeCompare(b.time)));
            const calculatedTWD = computed(() => Math.round((Number(calcKRW.value) || 0) / exchangeRate.value));
            const formatNumber = (n) => n?.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            const getDayInfo = (d) => tripDates[d];
            const getDayWeather = (d) => weatherData[d];
            const getNaverMapLink = (q) => `https://map.naver.com/p/search/${encodeURIComponent(q)}`;
            const getGoogleMapLink = (q) => `https://www.google.com/maps/search/${encodeURIComponent(q)}`;
            const currentTabName = computed(() => tabs.find(t => t.id === currentTab.value)?.name);
            const currentTabIcon = computed(() => tabs.find(t => t.id === currentTab.value)?.icon);

            return { currentTab, activeDay, itinerary, filteredItinerary, calcKRW, calculatedTWD, formatNumber, getDayInfo, getDayWeather, getNaverMapLink, getGoogleMapLink, tabs, currentTabName, currentTabIcon };
        }
    }).mount('#app');
</script>
</body>
</html>
