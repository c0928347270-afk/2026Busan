<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>釜山旅遊行程 - Blackpink Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #000000;
            color: #ffffff;
            overflow-x: hidden;
        }
        .bp-pink { color: #f8a5c2; }
        .bg-bp-pink { background-color: #f8a5c2; }
        .border-bp-pink { border-color: #f8a5c2; }
        
        /* 隱藏捲軸 */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        .itinerary-card {
            transition: all 0.3s ease;
            background: #0a0a0a;
            border: 1px solid #1a1a1a;
        }
        .itinerary-card:hover {
            border-color: rgba(248, 165, 194, 0.4);
            background: #111111;
        }

        .active-day {
            background-color: #f8a5c2 !important;
            color: #000000 !important;
            transform: scale(1.05);
        }

        input {
            background: #000000;
            border-bottom: 2px solid #222;
            padding: 8px;
            outline: none;
            transition: border-color 0.3s;
        }
        input:focus { border-color: #f8a5c2; }
    </style>
</head>
<body class="selection:bg-[#f8a5c2] selection:text-black">

    <!-- 頁首設計 -->
    <header class="pt-16 pb-12 border-b border-[#f8a5c2]/20 text-center relative">
        <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-[#f8a5c2] via-white to-[#f8a5c2]"></div>
        <h1 class="text-6xl md:text-7xl font-black tracking-tighter bp-pink uppercase italic">
            Busan <span class="text-white not-italic">Vibe</span>
          </h1>
          <div class="flex items-center justify-center gap-4 mt-4 text-xs tracking-[0.5em] text-gray-400 uppercase">
            <span>Coastal Escape</span>
            <span class="w-1.5 h-1.5 rounded-full bg-bp-pink"></span>
            <span>Jan 2025</span>
          </div>
    </header>

    <main class="max-w-6xl mx-auto px-6 py-12 grid grid-cols-1 lg:grid-cols-12 gap-10">
        
        <!-- 左側行程區 -->
        <div class="lg:col-span-8 space-y-8">
            <!-- 天數切換器 -->
            <div id="day-nav" class="flex gap-3 overflow-x-auto pb-6 no-scrollbar">
                <!-- 由 JS 生成 -->
            </div>

            <!-- 當日行程內容 -->
            <div id="itinerary-content" class="space-y-6">
                <!-- 由 JS 動態替換 -->
            </div>
        </div>

        <!-- 右側工具區 -->
        <div class="lg:col-span-4 space-y-8">
            
            <!-- 匯率計算機 -->
            <section class="bg-[#0a0a0a] p-8 border border-[#1a1a1a] relative group">
                <h3 class="flex items-center gap-3 font-black mb-8 uppercase bp-pink text-xl italic tracking-tighter">
                    <i data-lucide="calculator"></i> 匯率換算
                </h3>
                <div class="space-y-6 relative z-10">
                    <div class="space-y-2">
                        <label class="text-[10px] text-gray-500 uppercase font-black tracking-[0.2em]">TWD 台幣</label>
                        <div class="relative">
                            <input type="number" id="twd-input" value="0" class="w-full text-2xl font-mono">
                            <span class="absolute right-3 bottom-3 text-gray-600 font-mono text-xs">TWD</span>
                        </div>
                    </div>
                    <div class="flex justify-center py-2">
                        <div class="w-10 h-10 rounded-full border border-bp-pink flex items-center justify-center bp-pink">↓</div>
                    </div>
                    <div class="space-y-2">
                        <label class="text-[10px] text-gray-500 uppercase font-black tracking-[0.2em]">KRW 韓元 (Rate 1:41.5)</label>
                        <div class="relative">
                            <input type="number" id="krw-input" value="0" class="w-full text-2xl font-mono">
                            <span class="absolute right-3 bottom-3 text-gray-600 font-mono text-xs">KRW</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 推薦換匯點 -->
            <section class="bg-[#0a0a0a] p-8 border border-[#1a1a1a]">
                <h3 class="flex items-center gap-3 font-black mb-6 uppercase text-white text-xl italic tracking-tighter">
                    <i data-lucide="wallet"></i> 推薦換匯點
                </h3>
                <ul class="space-y-4">
                    <li class="bg-[#111] p-4 border-l-4 border-bp-pink">
                        <span class="text-white block font-black text-sm uppercase mb-1">南浦洞友利/映真換錢所</span>
                        <p class="text-xs text-gray-400">匯率最優地區，步行可達飯店。推薦使用現金。</p>
                    </li>
                    <li class="bg-[#111] p-4 border-l-4 border-white">
                        <span class="text-white block font-black text-sm uppercase mb-1">西面站 Money Box</span>
                        <p class="text-xs text-gray-400">24小時自動機台，適合晚班機抵達急用。</p>
                    </li>
                </ul>
            </section>

            <!-- 購物花費紀錄 -->
            <section class="bg-[#0a0a0a] p-8 border border-[#1a1a1a] border-t-4 border-t-bp-pink">
                <h3 class="flex items-center gap-3 font-black mb-6 uppercase bp-pink text-xl italic tracking-tighter">
                    <i data-lucide="shopping-bag"></i> 購物紀錄
                </h3>
                <div class="flex gap-2 mb-6">
                    <input type="text" id="expense-item" placeholder="品項名稱" class="flex-1 text-xs uppercase font-bold">
                    <input type="number" id="expense-cost" placeholder="KRW" class="w-24 text-xs font-mono">
                    <button onclick="addExpense()" class="bg-bp-pink text-black px-4 font-black text-xl hover:bg-white transition-colors">+</button>
                </div>
                
                <div id="expense-list" class="space-y-2 max-h-60 overflow-y-auto pr-2 custom-scrollbar text-sm">
                    <!-- 由 JS 生成 -->
                </div>
                
                <div class="mt-6 pt-6 border-t-2 border-white flex justify-between items-end">
                    <span class="text-[10px] text-gray-500 uppercase font-black">總計支出</span>
                    <div class="text-right">
                        <div id="total-krw" class="text-2xl font-mono font-black text-white">₩0</div>
                        <div id="total-twd" class="text-xs bp-pink font-bold">≈ NT$ 0</div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer class="mt-20 border-t border-[#111] py-20 text-center">
        <div class="inline-block border-2 border-bp-pink px-10 py-4 mb-6">
            <p class="tracking-[0.8em] font-black bp-pink uppercase italic">Blackpink in your area</p>
        </div>
        <p class="text-gray-600 text-[10px] uppercase tracking-widest font-light">
            Busan Tour 2025 • Jan 21 to Jan 25 • Luxury Travel Log
        </p>
    </footer>

    <script>
        const EXCHANGE_RATE = 41.5;
        let activeDay = 0;
        let expenses = [];

        const itineraryData = [
            {
                day: "DAY 1", date: "01/21", theme: "抵達釜山：南浦洞之夜", weather: "2°C / -3°C ☀️",
                events: [
                    { time: "14:25", activity: "桃園機場 (BR164)", type: "plane", loc: "桃園機場", note: "17:40 抵達金海機場" },
                    { time: "19:05", activity: "NewCZ 南浦店 Check-in", type: "hotel", loc: "NEWCZ NAMPO HOTEL", note: "札嘎其站 7 號出口即達" },
                    { time: "20:00", activity: "南浦洞周邊 (Bhc炸雞)", type: "utensils", loc: "南浦洞", note: "推薦：KPOP唱片行、人蔘雞湯" }
                ]
            },
            {
                day: "DAY 2", date: "01/22", theme: "海雲台與 SPA 療癒", weather: "4°C / -1°C ⛅",
                events: [
                    { time: "10:30", activity: "東釜山樂天 OUTLET", type: "map-pin", loc: "樂天名牌折扣購物中心東釜山店", note: "北臉、國家地理比台灣便宜" },
                    { time: "15:30", activity: "SPA LAND 汗蒸幕", type: "map-pin", loc: "新世界 Centum City SPA LAND", note: "必喝甜米釀、吃烤蛋" },
                    { time: "18:30", activity: "西面站烤肉晚餐", type: "utensils", loc: "西面站", note: "烤肉的男子 / 釜山宅 / 味贊王" }
                ]
            },
            {
                day: "DAY 3", date: "01/23", theme: "慶州文化巡禮", weather: "1°C / -5°C ❄️",
                events: [
                    { time: "10:30", activity: "藍線公園天空膠囊", type: "map-pin", loc: "Blueline Park", note: "清沙浦站海鮮麵建議" },
                    { time: "15:00", activity: "佛國寺 & 大陵院", type: "map-pin", loc: "佛國寺", note: "皇理團路必吃十元餅、南瓜薯條" },
                    { time: "19:00", activity: "東宮與月池夜景", type: "map-pin", loc: "東宮與月池", note: "欣賞唯美韓式燈光" }
                ]
            },
            {
                day: "DAY 4", date: "01/24", theme: "松島海景與文化漫步", weather: "3°C / -2°C ☀️",
                events: [
                    { time: "09:00", activity: "松島海上纜車", type: "map-pin", loc: "松島海上纜車", note: "跨海纜車俯瞰美景" },
                    { time: "12:00", activity: "札嘎其市場 (帝王蟹)", type: "utensils", loc: "札嘎其市場", note: "建議約 6-8 萬韓元/kg" },
                    { time: "14:30", activity: "白淺灘文化村", type: "map-pin", loc: "白淺灘文化村", note: "韓版聖托里尼，海邊咖啡廳" }
                ]
            },
            {
                day: "DAY 5", date: "01/25", theme: "甘川洞文化村與歸途", weather: "5°C / 0°C ☁️",
                events: [
                    { time: "09:00", activity: "甘川洞文化村", type: "map-pin", loc: "甘川洞文化村", note: "彩色房子採買伴手禮" },
                    { time: "16:00", activity: "抵達金海機場", type: "train", loc: "金海國際機場", note: "辦理退稅手續" },
                    { time: "18:55", activity: "長榮航空起飛 (BR163)", type: "plane", loc: "金海國際機場", note: "20:25 抵達桃園機場" }
                ]
            }
        ];

        // 初始化
        function init() {
            renderNav();
            renderDay(0);
            lucide.createIcons();
            setupCurrencyCalc();
        }

        // 生成導覽按鈕
        function renderNav() {
            const nav = document.getElementById('day-nav');
            itineraryData.forEach((item, idx) => {
                const btn = document.createElement('button');
                btn.className = `flex-shrink-0 px-8 py-4 rounded-none font-black text-sm uppercase transition-all border-2 border-[#222] text-gray-500 hover:border-[#f8a5c2]/50 hover:text-[#f8a5c2]`;
                btn.innerText = item.day;
                btn.onclick = () => renderDay(idx);
                btn.id = `nav-day-${idx}`;
                nav.appendChild(btn);
            });
        }

        // 渲染當日行程
        function renderDay(index) {
            // 更新按鈕樣式
            document.querySelectorAll('#day-nav button').forEach(btn => btn.classList.remove('active-day'));
            document.getElementById(`nav-day-${index}`).classList.add('active-day');

            const content = document.getElementById('itinerary-content');
            const data = itineraryData[index];

            content.innerHTML = `
                <div class="flex flex-col md:flex-row justify-between items-start md:items-end border-b-2 border-white pb-6 mb-10">
                    <div>
                        <h2 class="text-5xl font-black italic uppercase tracking-tight leading-none mb-2 underline decoration-[#f8a5c2] decoration-4 underline-offset-8">
                            ${data.theme}
                        </h2>
                        <p class="bp-pink font-mono text-lg mt-4 font-bold tracking-widest uppercase">
                            ${data.date} • BUSAN SOUTH KOREA
                        </p>
                    </div>
                    <div class="mt-6 md:mt-0 flex items-center gap-3 bg-[#111] border border-[#222] px-6 py-3 rounded-full">
                        <i data-lucide="cloud-sun" class="bp-pink"></i>
                        <span class="font-mono text-xl">${data.weather}</span>
                    </div>
                </div>
                <div class="space-y-4">
                    ${data.events.map(event => `
                        <div class="itinerary-card p-8 flex flex-col md:flex-row gap-8 items-start md:items-center">
                            <div class="text-3xl font-mono font-black text-[#222] bp-pink-hover transition-colors">${event.time}</div>
                            <div class="flex-1">
                                <div class="flex items-center gap-3 mb-2">
                                    <i data-lucide="${event.type}" class="bp-pink w-5 h-5"></i>
                                    <h4 class="text-2xl font-black uppercase tracking-tight italic">${event.activity}</h4>
                                </div>
                                <p class="text-gray-400 text-sm font-light leading-relaxed max-w-md">${event.note}</p>
                            </div>
                            <a href="https://map.naver.com/v5/search/${encodeURIComponent(event.loc)}" target="_blank" 
                               class="flex items-center justify-center gap-2 bg-white text-black px-6 py-3 text-xs font-black uppercase tracking-tighter hover:bg-bp-pink transition-colors">
                                地圖導航 <i data-lucide="external-link" class="w-3 h-3"></i>
                            </a>
                        </div>
                    `).join('')}
                </div>
            `;
            lucide.createIcons();
        }

        // 匯率計算
        function setupCurrencyCalc() {
            const twdInput = document.getElementById('twd-input');
            const krwInput = document.getElementById('krw-input');

            twdInput.oninput = (e) => {
                const val = e.target.value;
                krwInput.value = Math.round(val * EXCHANGE_RATE);
            };

            krwInput.oninput = (e) => {
                const val = e.target.value;
                twdInput.value = (val / EXCHANGE_RATE).toFixed(2);
            };
        }

        // 花費紀錄
        function addExpense() {
            const itemInput = document.getElementById('expense-item');
            const costInput = document.getElementById('expense-cost');

            if (itemInput.value && costInput.value) {
                expenses.unshift({
                    id: Date.now(),
                    item: itemInput.value,
                    cost: Number(costInput.value)
                });
                itemInput.value = '';
                costInput.value = '';
                renderExpenses();
            }
        }

        function renderExpenses() {
            const list = document.getElementById('expense-list');
            const totalKrwEl = document.getElementById('total-krw');
            const totalTwdEl = document.getElementById('total-twd');

            list.innerHTML = expenses.map(ex => `
                <div class="flex justify-between items-center py-3 border-b border-[#1a1a1a]">
                    <span class="text-xs uppercase font-bold">${ex.item}</span>
                    <div class="text-right">
                        <span class="bp-pink font-mono text-xs font-black">₩${ex.cost.toLocaleString()}</span>
                        <p class="text-[9px] text-gray-600">≈ NT$ ${Math.round(ex.cost / EXCHANGE_RATE).toLocaleString()}</p>
                    </div>
                </div>
            `).join('');

            const total = expenses.reduce((sum, current) => sum + current.cost, 0);
            totalKrwEl.innerText = `₩${total.toLocaleString()}`;
            totalTwdEl.innerText = `≈ NT$ ${Math.round(total / EXCHANGE_RATE).toLocaleString()}`;
        }

        window.onload = init;
    </script>
</body>
</html>
